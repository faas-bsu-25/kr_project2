<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Project 2</title>
        <link rel="stylesheet" href="style.css" />
        <link
            rel="shortcut icon"
            href="https://avatars.githubusercontent.com/u/181268590?s=48&v=4"
            type="image/x-icon"
        />
    </head>
    <body>
        <header>
            <h1>
                <a href="https://github.com/faas-bsu-25/kr_project2" target="blank"><code>kr_project2</code></a>
            </h1>
            <p>A top-down 2D game that focuses on level devices, NPCs, SFX and VFX, and the proverbial juice.</p>
            <details>
                <summary>Requirements</summary>
                <blockquote>
                    <ul>
                        <li>3 level devices (doors, ladder, spring)</li>
                        <ul>
                            <li class="nested">At least one must communicate with the game singleton</li>
                        </ul>
                        <li>1 collectible that is used to control access to other parts of the level</li>
                        <ul>
                            <li class="nested">Ammo, keys, gems</li>
                        </ul>
                        <li>Playable character (use Godot's build in script to start if making a platformer)</li>
                        <li>2 levels minimum</li>
                        <li>1 start screen</li>
                        <li>2 NPCs (enemies or friendly) that reacts to the player</li>
                        <li>4 relevant sound effects / audio</li>
                        <li>Complete graphics - level, enemies, background, interactables</li>
                        <li>Polish / juice</li>
                    </ul>
                    <sup
                        ><i
                            >Adapted from
                            <a href="https://bsu.instructure.com/courses/177112/pages/project-2" target="_blank"
                                >Project 2 Description</a
                            >
                            on Canvas.</i
                        ></sup
                    >
                </blockquote>
            </details>
        </header>

        <main>
            <section class="assets">
                <h2>Assets Used</h2>
                <div class="assets">
                    <div class="item">
                        <a href="https://toadzillart.itch.io/dungeons-pack" target="_blank">
                            <img
                                src="https://img.itch.zone/aW1nLzE1MzE3ODYxLmdpZg==/original/R9Cmel.gif"
                                alt='"Super Gameboy Quest - Dungeons pack" by Toadzillart on itch.io'
                            />
                        </a>
                        <p>
                            Nearly all non-custom assets, including tilesets, spritesheets, items, and more.
                            Additionally, the <code>DoorTP</code> sprite is an edited tile from this pack.
                        </p>
                    </div>
                    <div class="item">
                        <a href="https://toadzillart.itch.io/ui-pack" target="_blank">
                            <img
                                src="https://img.itch.zone/aW1nLzE1MzE3ODgwLmdpZg==/original/KsyOhU.gif"
                                alt='"Super Gameboy Quest - UI pack" by Toadzillart on itch.io'
                            />
                        </a>
                        <p>
                            Used for GUI/HUD assets! Most elements are atlased from the
                            <code>game_ui/hud.png</code> file.
                        </p>
                    </div>
                    <div class="item">
                        <a href="https://xdeviruchi.itch.io/8-bit-fantasy-adventure-music-pack" target="_blank">
                            <img
                                src="https://img.itch.zone/aW1nLzU1MzkzMjIucG5n/original/CiS13a.png"
                                alt="8-bit Fantasy & Advenrure Music Pack by xDeviruchi"
                            />
                        </a>
                        <p>Both music tracks used are from here. It's an awesome soundtrack!</p>
                    </div>
                    <div class="item">
                        <a href="https://pixel-boy.itch.io/icon-godot-node" target="_blank">
                            <img
                                src="https://img.itch.zone/aW1nLzE3MTM0MjcwLnBuZw==/315x250%23c/er89Ot.png"
                                alt='"Icon Node For Godot" by pixel-boy on itch.io'
                            />
                        </a>
                        <p>
                            Used for nearly all script-object types in this project. Though it only shows in my editor,
                            I really enjoy it.
                        </p>
                    </div>
                    <div class="item">
                        <a href="https://www.1001fonts.com/7-12-serif-font.html">
                            <img
                                src="https://st.1001fonts.net/img/illustrations/7/-/7-12-serif-font-1-xl.avif"
                                alt="7:12 Serif Fonts • 1001 Fonts"
                            />
                        </a>
                        <p>The font seen in the game's GUI/HUD.</p>
                    </div>
                    <div class="item">
                        <a href="https://sfxr.me" target="_blank">
                            <img src="https://sfxr.me/logo.svg" alt="jsfxr" width="250rem" />
                        </a>
                        <p>All sound files in this project were made using jsfxr.</p>
                    </div>
                </div>
            </section>

            <section class="links">
                <h2>Useful Links</h2>
                <div class="flex">
                    <div class="links-container godot">
                        <h3>Godot Docs</h3>
                        <ul>
                            <li>
                                <a
                                    href="https://docs.godotengine.org/en/stable/tutorials/scripting/gdscript/static_typing.html#how-to-use-static-typing"
                                    target="_blank"
                                    >Static typing in GDScript</a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://docs.godotengine.org/en/stable/tutorials/scripting/gdscript/gdscript_styleguide.html"
                                    target="_blank"
                                    >GDScript style guide</a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://docs.godotengine.org/en/stable/tutorials/scripting/gdscript/gdscript_basics.html"
                                    target="_blank"
                                    >GDScript reference</a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://docs.godotengine.org/en/latest/tutorials/animation/animation_tree.html"
                                    target="_blank"
                                    >Using AnimationTree</a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://github.com/godotengine/godot-docs-user-notes/discussions/5#discussioncomment-8124099"
                                    target="_blank"
                                    >SignalBus comment thread</a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://docs.godotengine.org/en/stable/tutorials/scripting/singletons_autoload.html"
                                    target="_blank"
                                    >Singletons (Autoload)</a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://docs.godotengine.org/en/stable/tutorials/plugins/running_code_in_the_editor.html"
                                    target="_blank"
                                    >Running code in the editor</a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://docs.godotengine.org/en/stable/tutorials/scripting/gdscript/gdscript_exports.html"
                                    target="_blank"
                                    >GDScript exported properties</a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://docs.godotengine.org/en/stable/classes/class_callable.html#class-callable-method-call-deferred"
                                    target="_blank"
                                    ><code>Callable.call_deferred(...args)</code></a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://docs.godotengine.org/en/stable/tutorials/scripting/gdscript/gdscript_format_string.html"
                                    target="_blank"
                                    >GDScript format strings</a
                                >
                            </li>
                        </ul>
                    </div>

                    <div class="links-container other">
                        <h3>Other Sites</h3>
                        <ul>
                            <li>
                                <img src="https://static.itch.io/images/app-icon.svg" alt="itch.io logo" />
                                <a href="https://itch.io/game-assets" target="_blank">itch.io - Game Assets</a>
                                <br />
                                <p class="subtext">
                                    (I get virtually all my assets here. There are a ton of assets with very
                                    customizable search parameters.)
                                </p>
                            </li>
                            <li>
                                <img src="https://placehold.co/256x256/313244/cdd6f4/png?text=P" alt="Placehold.co" />
                                <a href="https://placehold.co">Placehold</a>
                                <br />
                                <p class="subtext">(used for color previews in Notes)</p>
                            </li>
                            <li>
                                <img src="images/youtube.png" alt="YouTube" />
                                <a href="https://www.youtube.com/watch?v=H_qn6A_RIFE">How to Use Scene Tiles in Godot</a
                                ><br />
                                <p class="subtext">(a short and sweet rundown on Scene Tiles and scripts)</p>
                            </li>
                            <li>
                                <img
                                    src="https://avatars.githubusercontent.com/u/93489351?s=256&v=4"
                                    alt="Catppuccin"
                                />
                                <a href="https://catppuccin.com/palette" alt="catppuccin palette"
                                    >Catppuccin Palette [Mocha]</a
                                ><br />
                                <p class="subtext">(a color palette used to design the css for this page)</p>
                            </li>
                            <li>
                                <img src="https://www.1001fonts.com/favicon.ico" alt="1001 Fonts" />
                                <a href="https://www.1001fonts.com/">1001 Fonts</a>
                                <br />
                                <p class="subtext">
                                    (My go-to for finding downloadable fonts. There are other sites with the same fonts,
                                    but so far, 1001 Fonts is my favorite.)
                                </p>
                            </li>
                            <li>
                                <img src="https://avatars.githubusercontent.com/u/9919?s=48&v=4" alt="GitHub logo" />
                                <a href="https://github.com/github/gitignore"><code>gitignore</code> repository</a>
                                <br />
                                <details class="subtext">
                                    <summary>(about merging <code>.gitignore</code> formats...)</summary>
                                    <p class="subtext">
                                        When one creates a new repository on GitHub, one can select a
                                        <code>.gitignore</code> format (ex. Godot, VSCode, Rust, etc.). In some cases,
                                        however, it is most suitable to merge multiple <code>.gitignore</code> formats. This
                                        repository contains all available formats, so one could copy and paste files from
                                        this repository into their own repository's <code>.gitignore</code>.
                                    </p>
                                    <p class="subtext">
                                        I initialized my repository with the
                                        <a
                                            href="https://github.com/github/gitignore/blob/main/Godot.gitignore"
                                            target="_blank"
                                            >Godot</a
                                        >
                                        format, and later I pasted in the
                                        <a
                                            href="https://github.com/github/gitignore/blob/main/Global/VisualStudioCode.gitignore"
                                            target="blank"
                                            >VSCode</a
                                        >
                                        format lines from here. For a case in point, see here in my
                                        <a
                                            href="https://github.com/faas-bsu-25/kr_project2/blob/main/.gitignore"
                                            target="_blank"
                                            >repository</a
                                        >.
                                    </p>
                                </details>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>

            <section class="journal">
                <h2>Development Journal</h2>
                <sup
                    ><i
                        >May the errors happen now so that they never happen again.<br />
                        This functions both as an error documentation journal and as a narrative of the development
                        process.</i
                    ></sup
                >

                <article>
                    <details>
                        <summary>This is so complicated (10/11)</summary>
                        <blockquote>
                            <p>
                                Usually when I crack open some code for an assignment--or even for a lab in here--I can
                                breeze through it without much trouble.
                            </p>
                            <p>
                                But trying to make a whole game like this? It's so hard to find a good way to write this
                                code. I was about to make subclasses of a
                                <code>PickupItem</code> where the scripts only contained class names. How on earth did
                                my line of reasoning get to <i>that?</i>
                            </p>
                        </blockquote>
                    </details>
                </article>

                <article>
                    <details>
                        <summary>Tool Script MEGA troubles (also 10/11)</summary>
                        <blockquote>
                            <p>
                                Dr. Faas, if you're reading this, you might remember my
                                <a
                                    href="https://discord.com/channels/829049561867485203/829049561867485206/1426747719883690065"
                                    >spiel</a
                                >
                                on Discord.
                            </p>
                        </blockquote>
                    </details>
                </article>

                <article>
                    <details>
                        <summary>Singletons, "Managers", and event scope (10/12)</summary>
                        <blockquote>
                            <p>
                                I spent a lot of time figuring out how I wanted to approach the singleton pattern for
                                this game. Godot features a built-in singleton system via "Project Settings > Globals"
                                aka "Autoload"
                            </p>
                            <p>
                                I went back and forth on whether to make each specialized singleton a child node of a
                                higher-level GameManager class. Ultimately I decided against it. While asking the BSU
                                Game Dev Discord server about putting all signals in one file or putting related signals
                                into each manager. Manager. Dr. Gestwicki was kind enough to
                                <a
                                    href="https://discord.com/channels/829049561867485203/829049561867485206/1426997915569623140"
                                    target="_blank"
                                    >point out</a
                                >
                                that the word "Manager" is meaningless. He offered, "The name 'manager' means 'I don't
                                know what this does :)". And he's right. This prompted me to rename my singletons. Exit,
                                <code>PickupManager</code>. Enter, <code>PickupEventBus</code>. ✨
                            </p>
                        </blockquote>
                    </details>
                </article>

                <article>
                    <details>
                        <summary>Sword aiming issues (also 10/12)</summary>
                        <blockquote>
                            <p>
                                I wasn't very good at trig. So. Radians threw me for a loop even when converting to/from
                                degrees. I tried multiple times for the sword to swing at an angle perpendicular to the
                                mouse position, but it was horribly inconsistent.
                            </p>
                            <p>
                                I eventually decided for the sword to swing in the last axis movement direction. This
                                vector is only updated if the player is actively moving at the time of the check.
                            </p>
                        </blockquote>
                    </details>
                </article>

                <article>
                    <details>
                        <summary>(ceramic) Pot issues (10/13 🎂)</summary>
                        <blockquote>
                            <p>
                                Remember that issue I had where I needed to defer the call to change the pickup's
                                animation in accordance with a change of type......
                            </p>
                            <p>
                                Yeah it was really hard to get the pot to spawn it because once again the pot made the
                                pickup try to change its type before the whole thing had loaded. Rahhhh.
                            </p>
                            <p>I eventually figured it out, though.</p>
                        </blockquote>
                    </details>
                </article>

                <article>
                    <details>
                        <summary>Scene Tile Woes and Smart Snap Prose (10/17)</summary>
                        <blockquote>
                            <p>
                                I was VERY excited to turn my pot into a scene tile. It was gonna be so easy. I click, I
                                click, boom, pot. HOWEVER...
                            </p>
                            <p>
                                Apparently, if a scene tile has export variables, they cannot be accessed when the scene
                                is placed as a tile. For something like floor spikes which are generally self-contained,
                                this is fine. For the pots, on the other hand, they are completely reliant on editable
                                drops. A dealbreaker.
                            </p>
                            <p>
                                Fortunately, smart snap exists. You know how, as you move elements in a slide on
                                PowerPoint, those orange lines will snap your element to align with the top, bottom, or
                                middle of other elements? That's what smart snap does. Generally, it makes lining up
                                hand-placed scenes with their tile friends much easier.
                            </p>
                            <p>This pot, despite looking perfectly like a tile....is entirely separate. Yay.</p>
                            <img
                                src="images/snapped_pot.png"
                                alt="scene with a pot lined up with a tile"
                                height="250px"
                            />
                        </blockquote>
                    </details>
                </article>

                <article>
                    <details>
                        <summary>Bombs were a Lot Harder to Make than You Think (10/18)</summary>
                        <blockquote>
                            <p>
                                Okay. So. you place a bomb. The fuse burns for a couple seconds. The bomb explodes. What
                                next?
                            </p>
                            <p>
                                Naturally, the bomb explodes and notifies the <code>TileEventBus</code>, "hey, I just
                                exploded these tiles." This is very similar to the logic used for the sword swinging at
                                objects. Easy enough.
                            </p>
                            <p>The catch.</p>
                            <ul>
                                <li>
                                    The bomb can't <code>queue_free()</code> itself to soon or it won't get a chance to
                                    announce which tiles it exploded.
                                </li>
                                <li>
                                    The bomb can't trust the <code>TileEventBus</code> to <code>queue_free()</code> it.
                                    For some really weird reason, after the first bomb explodes it gets unreliable, and
                                    each bomb added to the scene before the previous is freed causes massive delays in
                                    the <code>TileEventBus</code> whether the bomb announced any tiles or not. And
                                    heaven forbid the bombs try to blow up the other bombs.
                                </li>
                            </ul>
                            <p>
                                Eventually I decided on a second timer on the bomb. The bomb hides itself, activates its
                                hurtbox, hangs around long enough to play the explosion sound, and finally
                                <code>queue_free()</code>s itself. PHEW.
                            </p>
                            <p>
                                <sup
                                    ><i>
                                        As a side note, I was going to make explosion particles, but it was too hard to
                                        try to fit them to the aesthetic. I settled for a neat red fade-in that
                                        intensifies the closer the bomb gets to exploding. I'm proud of that one.
                                    </i></sup
                                >
                            </p>
                        </blockquote>
                    </details>
                </article>

                <article>
                    <details>
                        <summary>Bouts of Burnout and Migrating Readme (10/27)</summary>
                        <blockquote>
                            <p>
                                Since the start, I have written my README in HTML. The "Assets Used" section uses images
                                wrapped in hyperlinks, and in order to do this <i>and</i> make them all the same height,
                                HTML was the only way. Late last week, I discovered how easy it is to deploy a static
                                webpage to a GitHub repository, so here we are.
                            </p>
                            <p>
                                As for the burnout, I haven't touched this project in over a week. I had set out to get
                                alllll my other homework done last week to leave all the time needed to crank out the
                                rest of this project. And then I just... didn't touch it...
                            </p>
                            <p>
                                There's a lot that goes into that. Longstanding issues, the death of a friend over this
                                past weekend, and old habits dying hard. I will get it done. I will find a way. I always
                                do. Just maybe not right now.
                            </p>
                        </blockquote>
                    </details>
                </article>

                <article>
                    <details>
                        <!-- Forgive the lack of formatting here. There's an extra space without doing this. -->
                        <summary>
                            <span>The Enemy of my Enemy is my Code (10/28)</span>
                            <span class="subtext">And definitely not during class...</span>
                        </summary>
                        <blockquote>
                            <p>
                                I've had my doubts thus far about how clean my code is, but the process of making an
                                enemy class went really well. The Enemy combines the preset functions granted unto
                                Pickups by their tool script as well as the loot drop system granted unto Pots by
                                <i>their</i> tool script. My experience with knowing when to use
                                <code>Callable#call_deferred()</code> has made the whole ordeal far easier to debug.
                            </p>
                            <p>I am quite pleased. We're almost onto real level design and beyond!</p>
                        </blockquote>
                    </details>
                </article>

                <article>
                    <details>
                        <summary>Door Teleportation Magic (also 10/28)</summary>
                        <blockquote>
                            <p>A "door" overlays the door tile from the wall and does a few things.</p>
                            <ol>
                                <li>Renders above player (wall tiles are under the player)</li>
                                <li>Blocks the player from leaving the room entirely</li>
                                <li>
                                    Once the player goes far enough through, the door teleports the player to the linked
                                    door.
                                </li>
                            </ol>
                            <p>
                                The tool scripts for this were not having a good time trying to automate the
                                doubly-linked initialization. I aimed for complete automation and settled for a tool
                                button.
                            </p>
                            <p>This is...more or less the last piece needed to create the levels. Wild.</p>
                        </blockquote>
                    </details>
                </article>

                <article>
                    <details>
                        <summary>TextureRects and GUI Issues (10/30)</summary>
                        <blockquote>
                            <p>
                                This morning, I asked Dr. Faas about the best way to animate a control element.
                                Basically, I wanted an AnimatedSprite2D as a control so that its position conforms to
                                anchors and parent containers. I then spent a good half hour trying to use an
                                AnimationTexture. First of all, it's very tedious and I hate the way adding frames has
                                to work. SECOND of all, I had been doing the frames as AtlasTextures,
                                which...AnimationTexture frames
                                <a
                                    href="https://docs.godotengine.org/en/stable/classes/class_animatedtexture.html#description"
                                    target="_blank"
                                    >specifically do not support</a
                                >.
                            </p>
                            <p>
                                Then I had issues with connecting global events to my GUI. Some (and only some) events
                                passed a parameter, so I had to find out the hardway that GDScript does not support
                                overloading methods/functions. Overriding via inhertance, sure. But not overloading.
                            </p>
                        </blockquote>
                    </details>
                </article>

                <article>
                    <details>
                        <summary>HUD + It's officially late! ⏰ (10/31)</summary>
                        <blockquote>
                            <p>
                                <b>Happy Halloween!</b>
                                <br />
                                Allow me to address the elephant in the room. This assignment is now overdue. That's a
                                fact. Dr. Faas did hint, as per his late policy, he might unofficially accept late work
                                at full credit before Sunday. That said, this is but an excuse. I have no excuses,
                                honestly, because there was a 9-day span where I didn't touch the project. How did this
                                happen? Let's talk about it.
                            </p>
                            <p>
                                Obviously I can expect no boss nor deadline as generous as Dr. Faas. In a professional
                                environment, this simply would not do. To ensure that this doesn't happen again, I'm
                                going forward with a few self-imposed guidelines:
                            </p>
                            <ol>
                                <li>
                                    <b>A task sheet.</b> I've been meaning to use those Smart Tables that Google Sheets
                                    added awhile ago. This will help me keep tabs on my deadlines and create a sort of
                                    regiment.
                                </li>
                                <li>
                                    <b>A solid plan.</b> I'm pretty used to working spontaneously. This works well for
                                    week-long or two-week-long projects, but after that it's anybody's guess. Combined
                                    with the task sheet, this should help my keep tabs on how long I anticipate a task
                                    taking.
                                </li>
                                <li>
                                    <b>Notes on what I've learned!</b> Every mistake made now is a learning opportunity
                                    to save the mistake later. I must--as in this journal--record my mistakes, how they
                                    happen, and how I fixed them.
                                </li>
                            </ol>
                            <p>Time will tell if this will work out. I'm hopeful.</p>
                            <p>
                                As for the GUI, I started using the Super Gameboy Quest GUI elements and they're really
                                cute. This UI work with Containers and Control nodes reminds me a whole lot of
                                SceneBuilder for JavaFX, so that's going pretty well.
                            </p>
                            <p>
                                I'll have this done by the unofficial tentative date for sure. I would have liked to do
                                more, but as earlier said I kind of did this to myself. A mistake to learn from!
                            </p>
                        </blockquote>
                    </details>
                </article>
            </section>

            <section class="notes">
                <h2>Notes</h2>

                <article>
                    <h3>Color Palette</h3>
                    <p>The Super Gameboy Quest assets feature the following 2-bit color palette:</p>
                    <ul>
                        <li>
                            <img src="https://placehold.co/15x15/d4d29b/d4d29b.png" alt="" />
                            <code>#d4d29b</code>
                        </li>
                        <li>
                            <img src="https://placehold.co/15x15/78a46a/78a46a.png" alt="" />
                            <code>#78a46a</code>
                        </li>
                        <li>
                            <img src="https://placehold.co/15x15/5e8549/5e8549.png" alt="" />
                            <code>#5e8549</code>
                        </li>
                        <li>
                            <img src="https://placehold.co/15x15/584422/584422.png" alt="" />
                            <code>#584422</code>
                        </li>
                    </ul>
                </article>

                <article>
                    <h3>Site Updates</h3>
                    <p>
                        If the site isn't reflecting commits in a new deployment, try refreshing the page manually. Even
                        if the site has been closed in your browser since before the deployment, it strangely might not
                        show the changes until you manually refresh regardless.
                    </p>
                </article>

                <article class="always-do">
                    <h3>Things I always do when working in Godot</h3>

                    <ul>
                        <li>
                            I always have the following tabs open in my browser when working on a Godot project:
                            <ul>
                                <li>
                                    <a
                                        href="https://docs.godotengine.org/en/stable/tutorials/scripting/gdscript/gdscript_basics.html"
                                        target="_blank"
                                        >GDScript Reference</a
                                    >
                                </li>
                                <li>
                                    <a
                                        href="https://docs.godotengine.org/en/stable/tutorials/scripting/gdscript/gdscript_styleguide.html"
                                        target="_blank"
                                        >GDScript Style Guide</a
                                    >
                                    <span class="subtext">
                                        (usually the
                                        <a
                                            href="https://docs.godotengine.org/en/stable/tutorials/scripting/gdscript/gdscript_styleguide.html#code-order"
                                            target="_blank"
                                            >Code order</a
                                        >
                                        section.)
                                    </span>
                                </li>
                                <li>
                                    <a
                                        href="https://docs.godotengine.org/en/stable/tutorials/scripting/gdscript/gdscript_exports.html"
                                        target="_blank"
                                        >GDScript ExportedProperties</a
                                    >
                                </li>
                            </ul>
                        </li>

                        <li>
                            When I create a project, I go into advanced debug settings and enable warnings relating to
                            <a
                                href="https://docs.godotengine.org/en/stable/tutorials/scripting/gdscript/static_typing.html#how-to-use-static-typing"
                                target="_blank"
                                >static typing</a
                            >.
                        </li>

                        <li>...</li>
                    </ul>
                </article>
            </section>
        </main>
    </body>
</html>
